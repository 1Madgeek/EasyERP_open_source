<table id="listTable">
    <% opportunities.forEach(function(opportunity, index){ %>
    <tr class="compactView" data-id="<%=opportunity._id%>">
        <td class="checkboxRow">
            <label>
                <input type="checkbox" value="<%=opportunity._id%>" class="checkbox"/>
            </label>
        </td>
        <td>
            <div class="compactRowWrap">
                <div class="compactRow">
                    <div class="opportunity"><%= opportunity.name%></div>
                    <div class="salesPerson"><%=(opportunity.salesPerson && opportunity.salesPerson.name) ? opportunity.salesPerson.name.first + ' ' +
                        opportunity.salesPerson.name.last : ''%></div>

                </div>
                <div class="compactRow">
                    <div><%=opportunity.expectedRevenue && opportunity.expectedRevenue.value ? currencySplitter(opportunity.expectedRevenue.value.toString()) : ''%></div>
                    <div class="stage"><%= opportunity.workflow.name %></div>
                </div>
            </div>
        </td>
    </tr>
    <% }); %>
</table>