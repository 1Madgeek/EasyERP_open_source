<div>
    <table class="list payment-list">
        <col width="2%">
        <col width="2%">
        <col width="12%">
        <col width="12%">
        <col width="12%">
        <col width="12%">
        <col width="20%">
        <col width="15%">
        <col width="20%">
        <col width="15%">

        <thead>
        <tr>
            <th><input type="checkbox" id="check_all"/></th>
            <th>N</th>
            <th>Assigned</th>
            <th>Company</th>
            <th>Invoice</th>
            <th>Payment Date</th>
            <th>Payment Way</th>
            <th>Invoiced</th>
            <th>Paid</th>
            <th>Status</th>
        </tr>
        </thead>
        <tbody id="listTable"></tbody>
        <tfoot id="listTotal"></tfoot>

        <% paymentCollection.forEach(function(payment, index) {%>
        <tr data-id="<%=payment._id%>">
            <td class = "notForm"><input type="checkbox" value="<%=payment._id%>" class="checkbox" /></td>
            <td><%=startNumber + index + 1%></td>
            <td><%=(payment.invoice && payment.invoice.assigned) ? payment.invoice.assigned.name: ''%></td>
            <td><%=payment.supplier.fullName%></td>
            <td><%=payment.invoice ? payment.invoice.name : ''%></td>
            <td data-type="dtPicker" class="editable date" data-content="date">
                <%=utcDateToLocaleDate(payment.date)%>
            </td>
            <td><%=(payment.paymentMethod) ? payment.paymentMethod.name : ''%></td>
            <td class="total money <%= payment.paidAmount != payment.invoiced ? 'red' :''%>"><%=((payment.paidAmount + payment.differenceAmount)/100).toFixed(2)%></td>
            <td class="totalPaidAmount money <%= payment.paidAmount != payment.invoiced ? 'red' :''%>"><%=(payment.paidAmount/100).toFixed(2)%></td>
            <td data-content="workflow" class="editable"><a href="javascript:;" class="currentSelected <%= payment.workflow === 'Paid' ? 'done' : 'new'%>"><%=payment.workflow%></a></td>
        </tr>
        <%})%>
    </table>
</div>
