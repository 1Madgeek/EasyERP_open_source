<div class="grid-conatiner">
    <table class="grid" cellspacing="0" cellpadding="0">
        <thead>
            <tr>
                <th>
                    <span>#</span>
                </th>
                <th>
                    <span>Employee</span>
                </th>
                <th>
                    <span>IsLead</span>
                </th>
                <% weeks.forEach(function(week){ %>
                    <th id="<%= week.number %>">
                        <span><%= week.lastDate %> (<%= week.week %>)</span>
                    </th>
                <% }) %>
            </tr>
        </thead>
        <tbody id="dashboardBody">
            <% dashboardData.forEach(function(department){ %>
                <tr data-id="<%= department.department ? department.department._id: '' %>" class="head-row" data-content="department">
                    <td>
                        <span>&nbsp</span>
                    </td>
                    <td colspan="17">
                    <span>
                        <%= department.department ? department.department.departmentName: '&nbsp'%>
                    </span>
                    </td>

                </tr>
                <% department.employees.forEach(function(employee, index){ %>
                    <tr class="group" data-id="<%= employee.get('_id')%>">
                        <td>
                            <span>
                                <%=index + 1%>
                            </span>
                        </td>
                        <td>
                            <span>
                                <%= employee.get('name') || '&nbsp' %>
                            </span>
                        </td>
                        <td>
                            <%= leadComparator(employee.get('isLead'))%>
                        </td>
                        <%employee.get('weekData').forEach(function(week){%>
                            <td class="dashboardWeek withVacation" <%=getCellClass(week)%>>
                                <span class="viewCount">1d</span>
                                <span class="view">
                                    <span class="vacation size8">8h</span>
                                    <span class="vacationHours size8"><%=week.hours || 0%> / <%=week.projects || 0%> p</span>
                                </span>
                            </td>
                        <%})%>
                    </tr>
                    <% for(var i = employee.get('maxProjects'); i > 0; i-- ){%>
                        <tr>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <%employee.get('weekData').forEach(function(week){%>
                                <% if(week.projectRoot) {%>
                                    <td >
                                        <span><%=week.projectRoot[i-1] ? week.projectRoot[i-1].hours : ''%></span>
                                        <span><%=week.projectRoot[i-1] ? week.projectRoot[i-1].project: ''%></span>
                                    </td>
                                <% } else { %>
                                    <td >
                                        &nbsp
                                    </td>
                                <% } %>
                            <%})%>
                        </tr>
                    <% } %>
                <% }) %>
            <% }) %>
        </tbody>
    </table>
</div>